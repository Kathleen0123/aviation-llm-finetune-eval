
	
	
		
• TECHNICAL PUBLICATION.Reports of completed research or a major significant phase of research that present the results of NASA Programs and include extensive data or theoretical analysis.Includes compilations of significant scientific and technical data and information deemed to be of continuing reference value.NASA counterpart of peer-reviewed formal professional papers but has less stringent limitations on manuscript length and extent of graphic presentations.• TECHNICAL MEMORANDUM.Scientific and technical findings that are preliminary or of specialized interest, e.g., quick release reports, working papers, and bibliographies that contain minimal annotation.Does not contain extensive analysis.• CONTRACTOR REPORT.Scientific and technical findings by NASA-sponsored contractors and grantees.• CONFERENCE PUBLICATION.Collected papers from scientific and technical conferences, symposia, seminars, or other meetings sponsored or co-sponsored by NASA.• SPECIAL PUBLICATION.Scientific, technical, or historical information from NASA programs, projects, and missions, often concerned with subjects having substantial public interest.• TECHNICAL TRANSLATION.English-language translations of foreign scientific and technical material pertinent to NASA's mission.Specialized services also include organizing and publishing research results, distributing specialized research announcements and feeds, providing information desk and personal search support, and enabling data exchange services.For more information about the NASA STI program, see the following:• Access the NASA STI program home page at http://www.sti.nasa.gov• E-mail your question to help@sti.nasa.gov• Phone the NASA STI Information Desk at 757-864-9658•
OverviewThe Unmanned Aircraft Systems (UAS) Traffic Management (UTM) Technical Capability Level (TCL) 2 software implements the requirements described herein.These software requirements are linked to the higher level UTM TCL 2 System Requirements.Each successive TCL implements additional UTM functionality, enabling additional use cases.TCL 2 demonstrated how to enable expanded multiple operations by implementing automation for beyond visual lineof-sight, tracking operations, and operations flying over sparsely populated areas.The UTM TCL 2 software implementation is a cloud-ready, monolithic architecture.The software is a research platform and not an operational system; rather it is a proof-of-concept and allows for identifying gaps in the UTM TCL 2 System Requirements.The purpose of this document is to ensure that UTM's research results will be fully utilized, and sufficient to meet interim goals of the UTM FAA & NASA Research Transition Team (RTT).The UTM RTT is a NASA-FAA coordinating committee collaborating on UTM concepts to ultimately be adopted by the FAA and other federal agencies and transfer them for commercialization by industry for integrating UAS operations in the National Airspace (NAS).This software specification is expected to be an artifact in the RTT technology transfer package.A secondary purpose of this document is to solicit feedback to improve the content and format of its successor, the UTM TCL 3 Software Specification.The audience for this document is UTM software stakeholders.It is meant to serve as a roadmap into the User Stories listed in Table 2.This document first defines the main services of TCL 2, as well as their relationship to the overall architecture.Each service is then described separately.Finally, the requirements list is presented, where each service is mapped to its requirement(s) and each requirement is mapped its actual software implementation.
Related Documents
UTM TCL 2 System RequirementsSystem level requirements that reference the software requirements in this document.
UAS Operator ICDGuide to NASA's UAS Service Supplier (USS).UAS Operators and their software developers use this to understand NASA's USS.USS developers may use this as a USS reference implementation.
UAS Operator OpenAPI-SpecOpen API specification ("swagger spec") of Operator to USS interface.UAS Operator software developers use this to interface with NASA's USS.USS developers may use this as a USS reference implementation.
USS Software Requirements SpecificationRequirements for USS.
Supplemental (External) Data Providers OpenAPI SpecExternally defined Supplemental Data Service Providers (SDSPs).
ServicesThe network architecture sketch shown in Figure 1 depicts the TCL 2 services and their system services.In some cases, a service corresponds to a software module and in other cases, the service is integrated within other modules.The web application layer consists of the NASA UAS Service Supplier (USS), also named the "UTM Core."The USS is either cloud-hosted or hosted on premises.It is behind a web layer and protected in a secure subnet.The USS interacts with a set of Supplemental Data Service Providers (SDSPs) and UAS Operators.Also shown for concept completeness is the Air Navigation Service Provider (ANSP).All network traffic is routed through a single, encrypted port.Inbound and outbound traffic is managed at the HTTPS level by a web server (TCL 2 uses NGINX) which routes traffic to the USS web applications.The web layer also guards against overuse, such as (intentional or unintentional) denial-ofservice events.The USS is at the business application layer.
Core ServicesTCL 2 has two main services.These are the USS (also known as UTM Core), and the UAS Operator platform, which consists of the vehicle, the UAS Operator and the ground control station (GCS) software used by the UAS Operator.The USS Identity service, implemented by local directory access protocol (LDAP) for TCL 2, stores the identities and credentials of its UAS Operators.Registration for TCL 2 is a manual out-of-band process.Figure 2 graphs the USS data model of operational states.These states are tracked by the USS and are not directly modifiable by the UAS Operator.These states are updated based on information received from the UAS Operator, the state of other data in the system, rules and regulations, and other factors.Upon submittal, an operation is in the Proposing state and will subsequently move into either the Accepted or Rejected states.An Activated operation that leaves its volume is moved to the Nonconforming state, and if that off-nominal condition is not rectified, USS moves it the Rogue state.As indicated, Rogue is a terminal state which cannot be rectified.Figure 3 shows (abstracted in two dimensions) the data model for 4-dimensional (4-D) Operation Volumes.When a UAS Operator submits a flight geography, USS adds a conformance buffer and computes a conformance geography.The operation is expected to stay within the conformance geography at all times; a violation results in automated actions such as alerts.USS also computes its protected geography.Proposal Handler uses this geography for de-conflicting operation plans and constraints.Protected geographies from separate operations should never overlap in space and time.The USS Conformance Monitor compares vehicle position reports against the 4-D volumes contained in the UAS Operator's operation plan.The Conformance Monitor issues alert messages when a vehicle leaves its conformance geography, and determines the operational state between conformance (within conformance geography), nonconformance (outside of conformance geography), rectification of nonconformance, and rogue (outside of protected geography).It also monitors aborting operations and propagates abort messages to nearby UAS operations.Conformance Manager is a key player in managing beyond visual line-of-sight (BVLOS) UAS operations.
Supplementary Data Provider Services (SDSPs)UTM Software includes a set of SDSP implementations.SDSPs are accessed by the Proposal Handler, and other services, so that decisions are informed by dynamic environmental concerns such as weather.TCL 2 includes a set of external SDSPs for vehicle data, weather and conformance calculation.The interfaces to these services are described in the SwaggerHub dataProvider specification, as summarized in Table 1.The Vehicle-Weather data provider takes as input the operation geography and vehicle data.It returns Weather Concerns derived by looking at vehicle capabilities with the current wind velocity.The Conformance Calculator data provider takes vehicle data and calculates a geographic buffer around the flight geography representing the conformance geography tuned by vehicle performance capability.TCL 2 also includes a set of internally defined SDSPs for UAS Reports (UREPs) and Surveillance.In TCL 2, their definitions are integrated in the TCL 2 SwaggerHub specification; however, these are to be moved to an externally defined SDSP in the future.
System-Provided ServicesAs shown in the TCL 2 Software Service network diagram in Figure 1, some services are provided outside of the USS.The messaging system service is provided by the ActiveMQ Message Broker.A relational database is provided by PostgreSQL with a PostGIS library that supports Geographic Information Systems (GIS) functions.For TCL 2, LDAP provides secure storage of USS identities and their credentials.
Lost Hiker ExampleThe following example illustrates the operational context for multiple UTM operations in the same general airspace which the software must address.Five operations are flying in the same region near a public park; some operations are altitude-stratified (refer to Figure 4 and Figure 5 below).All UAS Operators are authenticated.Traffic Monitor (GCS1) is a UAS with emergency supplies such as camera and basic medical first aid; today it is checking out road traffic.Because of its status as an emergency vehicle, GCS1 submits Traffic Monitor as a Priority Operation, while logged in to NASA USS (USS-nasa) with the Priority Op security role.Cell Tower Inspector (GCS2) is operating at an altitude of 200 feet above ground level (AGL).Forest Ranger (GCS3) is flying its daily awareness operation.Two news operations (GCS4 and GCS5) are recording a soccer match -they are sharing the airspace in an altitude-stratified configuration.Then, Forest Ranger at GCS3 gets a call -a hiker is lost and needs medical supplies.Forest Ranger determines the approximate search area for the hiker and prepares an operation modification by creating a new volume set that is then is submitted to USS-nasa.The Traffic Monitoring UAS at GCS1 already has the needed medical supplies, and its operator submits an operation modification request to USS so it can assist with the lost hiker, and USS-nasa almost immediately approves the operation.Rerouting of UAS operations is in place, transforming Traffic Monitor to a Medical Supply operation.USS-nasa calculates that the Cell Tower Inspector (GCS2) is close to the Medical Supply operation (GCS1) and sends an "Emergency UA in proximity" message to GCS2, which then aborts its Cell Tower Inspector operation to avoid a conflict with the higher priority operation.Note that if another operation was flying nearby the Cell Tower Inspector operation, this "nearby neighbor" would have also received an alert message from USS-nasa.Meanwhile, the news reporter at GCS5 ("the nosy reporter") is interested in viewing the lost hiker situation.GCS5 submits a new operation to USS-nasa; however, this operation request is rejected because it conflicts with the volumes of the higher priority GCS1 operation.This example demonstrates authentication to USS (requirement UTM-318) and authorization as a Priority Operator (requirement UTM-1755), Operation Planning for simulated virtual aircraft (requirement UTM-328), altitude stratification (requirement UTM-1892), abort alerts for BVLOS (requirements UTM-2750 and UTM-1118), dynamic rerouting (requirement UTM-1894) and injection of additional constraints (requirement UTM-333) In the example above, most of the operations were flying BVLOS.UTM software supports BVLOS by providing automatic alerts to nearby neighbors of an aborting operation (requirement UTM-1750, messaging).USS-nasa demonstrates planning capabilities by allowing Operators to submit, cancel and complete operations.In this example, operations can be flown in altitudestratified configuration because the Operation Volume models allow partitioning of airspace by altitude as well as lateral distance.
List of TCL 2 Software RequirementsTable 1 contains TCL 2 software requirements in the form of a "user story".The format of a traditional requirement generally includes 1) ID, 2) title, 3) requirement statement and 4) rationale where the requirement statement usually includes one "shall" statement.However, in Agile processes, requirements are often stated as user stories.These stories don't use "shall" statements but instead combine the requirement statement and the rationale together in the form, "As a <role>, I want <goal or feature> so that I can get <some benefit>."In the following table, top-level User Stories and are linked from the UTM System Requirements.In turn, top-level user stories are linked to their implementation in UTM's issuetracking system.Furthermore, UTM's issue-tracking system maintains links to the UTM Software Configuration Management (SCM) code repository.Figure 1 :1Figure 1: TCL 2 Software Services
Figure 2 :2Figure 2: USS Operational State Diagram
Figure 3 :3Figure 3: USS Operation Volume Model
FigureForestFigure 4: Lost Hiker Timeline
Table 1 : Related Documents Document Description1
The USS Authentication component authenticates UAS Operators and authorizes them to services.It implements security roles which define privileges attached to principals; one such role is the PRIORITY OP role that enables creation of priority operations such as UAS flown in support of emergency operations (e.g., firefighting or disaster response operations).The USS Proposal Handler assists with planning of UAS operations such that they arestrategically separated. The Proposal Handler decides if a proposed operation should beaccepted or rejected. It checks that UAS operations do not intersect known constraints in theairspace such as controlled airspace and national parks. The Proposal Handler checks againstDynamic Constraints, that is constraints injected during runtime. A Dynamic Constraint cancorrespond to another operation, an override to an existing constraint, or the injection of a newairspace constraint. (In UTM, Dynamic Constraints are also called manager constraints.) TheProposal Handler also re-plans operations that are already flying. For TCL 2, when an Operatorwishes to modify its volumes during flight, Proposal Handler evaluated whether thosemodifications will be accepted.The USS Readied Handler rechecks accepted operations against possibly new, recently injected Dynamic Constraints.
Table 2 : TCL 2 Software Requirements in User Story Form Key Summary Component/s Linked Issues Description2UTM-UAS Operator wants toSDSPUTM-1999,As a UAS Operator (machine or2000find USS matchingUTM-2003human) I want to find USSOperational requirementsservices in the UTM ecosystemautomatically and dynamicallybecause my Operations haveoften-changing requirements thatmust match the USS capabilities.Solution: implementationplanned for TCL 3UTM-Ensure access toweb-load-As a USS I want web layer load1904resources is balancedbalancerbalancing and denial of serviceand not overloadedprotection because I want myOperator community to beserved USS resources fairly andpromptly.
		
		

			
AcknowledgmentsEnter acknowledgments here, if applicable, otherwise remove this page.This report is available in electronic form at http:/ntrs.nasa.gov/
			

			
			
			

				
			
		
	
