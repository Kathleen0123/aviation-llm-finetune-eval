
	
	
		
The Vertical Motion Simulator at NASA Ames Research Center uses a large array of pilot control loaders to simulate the cockpit control interfaces for a range of aircraft, from fixed-wing transports and fighters to rotorcraft.To meet the evolving pilot control force cueing requirements of researchers, we have provided a wider dynamic range, improved frequency response, and created smoother motion results.These improvements have focused on fine-tuning the pilot control loader's analog controller and transducers, as well as defining better procedures for optimizing its frequency response characteristics.Using the pitch axis on a McFadden wheel and column type controller as an example, this paper details the optimization procedures.
Nomenclature
I. IntroductionPilot control loaders (PCL) are commonly used in flight simulators to simulate the control forces a pilot would feel when moving the inceptors in the actual vehicle due to air loads, force feel devices, and control surface actuators.Pilot control force-feel cueing is an essential pilot cue that must be simulated accurately for handling qualities evaluations.It is also critical to pilot perception of simulation fidelity.The first pilot control loader system used at the NASA Ames Research Center in the 1960s was a Link electric loader that was later replaced by a McFadden hydraulic actuator pilot control loader.McFadden pilot control loaders were acquired for the various flight simulators at NASA Ames including the Vertical Motion Simulator (VMS), which became operational in 1979.The VMS uses five interchangeable simulator cabs and uses a large selection of McFadden pilot control loaders to configure these cabs to represent a range of fixed and rotary-wing aircraft.The requirements for PCL performance are driven by the needs of the flight research studies conducted.Usually the controllers are configured to represent the dynamic response and force-feel characteristics prescribed by the researchers.The force-feel characteristics include feel gradient, breakout, deadzone, friction, etc. Sometimes, the force-feel characteristics must be adjusted during the real-time simulation without compromising the integrity of the system.This means that the PCL must be capable of being programmed to match the natural frequencies of all and any anticipated pilot controls to provide a rapid response to customer needs.The challenge is to maximize performance and to know when optimal performance has been achieved.In general, maximizing PCL performance requires that all the transducers in the PCL be optimally designed for their specific tasks.The transducers include the position potentiometer, velocity tachometer, differential pressure transducer, and the servo valve.Maximizing performance also requires that all feedback loops be frequency-shaped, known as "tuning," to achieve maximum loop gain.The combination of transducer improvements and frequency tuning increases the maximum values for parameter settings, reduces the apparent mass, and ensures the closed loop system low frequency characteristics (pilot frequency response) approach that of an ideal second order system.This paper begins with a brief description of the VMS and a McFadden pilot control loader force feedback system including the McFadden analog controller.Improvements to the position potentiometer, tachometer, differential pressure transducer, and actuator servo valve are described next.Processes for optimizing PCL performance by tuning and the measurable results of the optimization effort are then described.Table 1.VMS motion capability.
II. The Vertical Motion SimulatorThe VMS combines a high-fidelity simulation capability with an adaptable simulation environment that allows the simulator to be customized to a wide variety of human-in-the-loop research applications.The distinctive feature of the VMS is its unparalleled large amplitude, high-fidelity motion capability.The high level of simulation fidelity is achieved by combining this motion fidelity with excellent visual and cockpit interfaces.An Interchangeable Cab (ICAB) arrangement allows different crew vehicle interfaces and vehicle types to be evaluated allowing fast turnaround times between simulation projects.The VMS motion system is a six degree-of-freedom combined electro-mechanical/hydraulic servo system, shown in Fig. 1.It is located in and partially supported by a specially constructed 120 ft tower.The motion platform consists of a 40 ft long beam that travels ±30 ft vertically.On top of the beam is a carriage that traverses the 40 ft length of the beam.A sled sits atop the carriage providing the ±4 ft of travel in a third translational degree of freedom.A conically shaped structure is mounted on the sled and rotates about the vertical axis providing yaw motion.A two-axis gimbal allows pitch and roll motion.The ICAB is attached to the top gimbal ring.The motion capability of the VMS is summarized in Table 1.The ICAB capability in the VMS allows the cockpit to be tailored to the research application.The VMS has five portable ICABs with different out-the-window visual fields-of-view.For each simulation study, the cab is equipped based on the simulation requirements and tested fixed-base with the complete simulation environment except for motion.Equipping the cab includes installation of flight controls, fight instruments and displays, and seats.Following equipage and checkout, the ICAB is transported and installed on the motion system.The ICAB capability allows the VMS facility to conduct fixed-base and moving-base simulation studies simultaneously.The VMS facility has sufficient pilot control loaders to equip all five Interchangeable Cabs for fixed wing, rotorcraft, or piloted space vehicles simulation.
III. The Ideal Force Feedback McFadden Pilot Control LoaderAn ideal 2 nd order model for a force feedback McFadden PCL single axis, shown in Fig. 3 below, can be the axis of any of the McFadden PCLs.If the frequency tuning has been carefully done, this model holds well for frequencies up to about 30 Hertz depending on the particular actuator.There are three transducers mounted on the PCL actuator that provide feedback signals to the McFadden analog controller.These are the differential pressure transducer (DPT), position potentiometer, and tachometer.The DPT converts hydraulic pressure difference on the actuator piston to an electrical signal scaled to force.The other two Those controls on the front panel of the McFadden analog controller that set the pilot control characteristics include Force Balance, Position Trim, Gain, Spring Gradient, and Damping Factor.The Force Balance potentiometer removes force bias in the differential pressure transducer output.The Position Trim sets the initial position of the pilot control.Gain sets the natural frequency.The Spring Gradient and Damping Factor potentiometers are normally set to zero when the external Pilot Force Program is engaged, since the program will now supply these settings.The Pilot Force Program is an external program that receives feedbacks from the pilot control loader and generates all the physical characteristics required for simulating pilot controls.This would include such characteristics as force breakout, friction, stiction, position stops, deadzone, and so forth.Control in the PCL comes from the feed-forward path and three feedback loops.The feed-forward path consists of Gain and two integrator blocks.The feedback loops are force, velocity, and position.When force is applied to the pilot control, a force feedback signal is generated that includes pilot force, gravity, and inertial force.The force feedback signal is compared to all other force signal inputs.The difference creates a force signal error that drives the pilot control in the direction of the applied force.The damping force feedback, spring force feedback, and Pilot Force Program input create the pilot control force feel.If the damping factor, spring gradient, and Pilot Force Program input are all set to zero, then the pilot will feel only gravity and inertial force effects.Each loop was examined to identify the key factors that limited performance.The differential pressure transducer force drift and bias comprise the force term F TB and causes an asymmetrical force breakout at position trim.Any problems that limit the feedback gains associated with the position potentiometer and tachometer results in limited force gradients.High force gradients are required for the proper simulation of the nonlinear functions such as force breakout, friction, stiction, stops, etc. Smooth operation of the PCL actuator servo valve is required for zero "turn-around bump."PCL actuator frequency roll-off limits performance in the pilot frequency range.The following sections will explain the improvements made to these hardware devices to improve the performance of the McFadden pilot control loaders.Tuning techniques were developed to optimize the force feedback loop gain as low loop gain decreases the natural frequency of the pilot control.This required additional use of lead-lag functions, notch filters, integrator with+ ! Force Balance F FB (Set F FB = F TB ) - ! + - ! Position Trim Input ! F T Σ Σ Σ ! Pilot Force Program Input - ! "Differential Pressure Transducer ! Simplifed McFadden Analog Controller ! F T = F P + F G + F A ! DPT * ! (Force Feedback Loop)Feed-Forward Path→ Gain phase-lead, nonlinear damping compensation (NDC), and dither in the McFadden controller.Optimal performance of this loop results in the maximum possible natural frequency for the pilot control.The goal of the tuning process is to improve the dynamics to approximate the idealized model in Fig. 3 as closely as possible.The tuning functions are discussed in detail in Section V, Tuning Circuits.
IV. Optimizing Pilot Control Loader TransducersThis section describes improvements to the PCL actuator transducers.These are the position feedback potentiometer, velocity feedback tachometer, differential pressure transducer (force feedback), and PCL actuator servo valve.These transducers are illustrated in Fig. 4 for a cyclic PCL.
A. Position PotentiometerPosition feedback is measured in the McFadden PCL with a precision potentiometer as shown in Fig. 3. Position feedback provides a force feedback term when scaled by spring gradient.The larger the spring gradient, the stiffer the feel system gradient.But this also means that larger position feedback loop gains are required for simulating larger spring gradients and this is where the specifications and quality of the potentiometer become important, as are the mounting and connection of the potentiometer to the pilot control.Larger position feedback gain capability is required to improve the maximum force gradient of 200 lbs/in, as supplied from the manufacturer.Attempts to increase the feedback loop gain to achieve this uncovered instabilities.There were several sources for the instabilities.At specific settings of the position feedback loop gain, the pilot controller would be unstable at certain positions of the pilot control.The pilot controller was not only unstable at the zero position, but it was also unstable at other random locations.The instability at the zero position is the result of distortion in the resistance of the potentiometer's mandrel caused by the center tap supplied with the original potentiometers.Other instabilities are explained below.All precision potentiometers used in PCL applications at the VMS use a carbon mandrel.The linearity specification for this type of potentiometer is achieved by trimming the mandrel through various techniques that range from notching, nibbling, laser cutting, etc.What can suffer in the process is electrical smoothness, 1 which is defined as the maximum instantaneous variation in output voltage from the ideal voltage.To check for electrical smoothness, a potentiometer/tachometer precision motion tester was designed and fabricated.This tester uses a Galil motion control system, which consists of a Galil stepper motor, power supply, amplifier, and Galil PC software.The software allows for programming test conditions.Testing the original potentiometers showed distortions at the center tap and other random locations.Then, we purchased several different precision potentiometers without center taps from different vendors.All had the same
Belt tension adjustmentRigid pot/tach plate linearity and electrical smoothness specifications; however, some varied significantly in actual electrical smoothness.In collaboration with a manufacturer, a potentiometer without a center tap allowing for the best electrical smoothness and best linearity possible was developed for this application.After we made this change, no appreciable errors in linearity were detectable, and there was a considerable improvement in electrical smoothness.Oscillographs of the electrical smoothness test for an original and replacement potentiometer are shown in Fig. 5.Using a potentiometer without a center tap and incorporating a pseudo-center tap circuit as shown in Fig. 6 eliminated the instabilities caused by the potentiometer center tap.The two resistors in series between each of the potentiometer's reference connections provide the zero position's reference in place of a center tap ground.If the resistors are equal, the reference position is the same as the position of the original center tap.The actual value of the resistors is not critical, but it is best if the values selected have the same series resistance as the potentiometer.This helps to improve common mode noise rejection in this circuit, and in particular when the wiper is in the pseudo-center tap location.K CT (Fig. 6) is a coefficient from 0 to 1 that is the location of the pseudo-center tap.If the pseudo-center tap is to be at the center of the potentiometer's mandrel, then K CT = 0.5 and both resistors will be one-half of the potentiometer's resistance.Shielded twisted pair cables are used between the McFadden controller and the simulator cab and this cable length can be a few hundred feet.Because all signals and power are carried to the VMS through a cable carriage, the electromagnetic noise environment is severe.For this reason, a noise rejection circuit must be used.This is one of  Instrumentation AmplifierKCT = 0 KCT = 1 ! R1 = (1" K CT ) R P R2 = K CT R Pthe reasons for the instrumentation amplifier and shielded twisted-pair cables.The other reason for using an instrumentation amplifier is to prevent potentiometer "loading" or distortion of the potentiometer's linearity.Another possible source of position feedback instability is the mounting hardware for the position feedback potentiometer.The mounting hardware was strengthened to minimize compliance that could contribute to an instability.The potentiometer was attached directly to a rigid plate, as shown in Fig. 4, and a slot was cut into the plate so that a sprocket could be used for belt tensioning.The potentiometer was also made with a slotted shaft that allows adjustment of the potentiometer position from the outside.Another possible source of position feedback instability is the compliance in the belt drive used for the position feedback potentiometer.This is minimized using belts made of polyurethane with a stainless steel cable center.This particular belt design allows for some offset between sprockets, and the stainless steel cable center minimizes cable stretch.As much as possible, cable distance between sprockets should be kept short and where there is an open stretch of cable, sprocket idlers should be used.Otherwise, sustained oscillations are possible when high position feedback gains are used.The new potentiometer, without the center tap and incorporating a pseudo-center tap circuit, eliminated the instability at the center tap location for high force gradient settings, Fig 5 .The use of a rigid mounting plate and a better belt drive allowed force gradients to typically exceed 300 lbs/in compared to the factory supplied rating of 200 lbs/in.
B. Velocity TachometerVelocity feedback provides a damping force term when scaled by damping factor (Fig. 3).The damping factor is usually adjusted to give the PCL a specific response.For example, the damping factor may be adjusted to give the PCL a slight overshoot response to a step input that is equivalent to a damping ratio of 0.707 for a second-order linear system.Damping is essential for simulation of the nonlinear functions, and is referred to as Nonlinear Damping Compensation (NDC) and is explained in more detail in Section VI.Nonlinear function examples are force breakout, friction, stiction, and electrical stops.Damping is necessary to keep the position loop stable when high position feedback gains used in the nonlinear functions are active.The limit to the amount of velocity feedback gain that can be used also limits the amount of position feedback gain used.In fact, velocity feedback gain limits proved to be the limiting factor associated with achieving high position feedback gains.So an effort was made to improve the maximum velocity feedback gain.The original tachometer's 1/8 th inch diameter shaft and relatively high armature inertia and low torsional stiffness, coupled with the high frequency response of the McFadden PCL, caused high frequency oscillations at feedback gains required for dampening the high position feedback gain nonlinear circuits.Such oscillations can result in shaft failure.A tachometer with a 1/4 th inch diameter shaft and 14-segment commutator minimized this problem.The higher inertia from the larger shaft did not prove to be a problem and it was possible to obtain much higher velocity feedback loop gains that were more than sufficient for the damping requirements of the nonlinear circuits.In addition, the 14-segment commutator provides smoother signals than the original 7-segment tachometers.Another problem was noise pickup by the tachometer.The tachometer contains coils, which make good magnetic field detectors.While common mode rejection circuits can eliminate noise pickup on cables, noise pickup on the tachometer is treated as signal and the only effective protection is shielding.Foil shields (Fig. 4) proved to be an effective solution for low magnetic field noise environments.More elaborate shielding techniques are necessary in noisier environments.The new tachometer design, with the 1/4 th inch diameter shaft, allowed for much larger damping factors.This is critical for the operation of the NDC circuit.In addition, these improvements also increased the maximum force gradients.
C. Differential Pressure TransducerForce feedback is accomplished in the McFadden PCL by a differential pressure transducer (Fig. 3) that detects any pressure difference between both ends of the PCL actuator piston.Any pressure difference means that the pilot, gravity, and/or inertial effects have applied a force to the PCL.The differential pressure transducer used in the McFadden PCL must have low temperature drift to minimize troublesome checking of force balance.Temperature drift generates a force offset in the differential pressure transducer output.The pilot can feel this force offset, and it becomes most noticeable in the nonlinear circuit for force breakout.A force offset gives the force breakout an asymmetrical feel.The temperature drift can be reduced by using a hydraulic oil cooler, but it is almost impossible to keep the hydraulic oil at a precise temperature since both the hydraulic oil flow rate and ambient temperature are not constant.Using an oil cooler set to keep the oil at an average ambient temperature, however, can minimize the temperature drift.In the VMS, the oil temperature is set at 70° Fahrenheit.As with the position feedback potentiometer, a key requirement for the differential pressure transducers is linearity.A new differential pressure transducer was designed with emphasis on minimum temperature drift and is shown in Fig. 7.The new transducer also has improved linearity and less phase-lag.The new differential pressure transducer significantly reduced the force drift problem associated with the original differential pressure transducer.In addition, the more consistent performance of the new actuator servo valve makes the valves interchangeable with little or no effects.
D. PCL Actuator Servo ValveThe actuator servo valve is the device that controls fluid flow to and from the rotary PCL actuator causing the pilot control to move.This fluid flow is proportional to the current input.The original servo valves supplied with the McFadden PCLs were custom designed for this application.
ManifoldWhen the original servo valves were no longer available, Moog Inc. replaced the original valve with a custom manufactured servo valve.The series-30 servo valve was chosen as the replacement, as it roughly matched to the flow rate of the original servo valve.This valve had to be custom manufactured for our application.The performance of the new servo valve exceeded the original servo valve's performance in bandwidth and phase-lag.Subtle effects of the servo valve dynamics become obvious when developing force feedback loop Bode plots.One of these subtle but important effects is stiction.This shows up as a sudden drop in force (differential pressure) and change in phase-lag, usually at higher frequencies such as 300 to 600 Hertz.This can result in a pilot control "turn-around bump."Based on this observation, an in-house servo valve tester, as illustrated in Fig. 8, was developed by fabricating a block to mount a servo valve and a differential pressure transducer.Fluid flow was "dead-headed" to simulate a locked PCL.This eliminated the need for the position and tachometer feedback loops.The same force feedback control loop or electronics, as used in the McFadden PCL, was used for this servo valve tester.In this manner, servo valve performance can be compared under identical testing conditions and under force feedback loop conditions similar to the way the servo valve is actually implemented.For testing both servo valves and differential pressure transducers, one differential pressure transducer and servo valve were used as "standards."Figure 9 illustrates the frequency response or Bode plots of force (differential pressure) output versus servo valve input for the new Moog model 30-407 servo valve.The left Bode plot in Fig. 9 shows the typical response of a valve without the use of dither.Servo valve stiction has caused a dramatic loss in response at 400 Hertz, which can result in pilot control "turn-around bump."The right Bode plot in Fig. 9 shows the frequency response with dither added to the circuit.This clears the stiction problem, and slightly improves the phase at lower frequencies.The original servo valves had a -45 degree phase-lag at approximately 9 Hertz, whereas the new valve's -45 degree phase-lag point is at 30 Hertz.At 100 Hertz, the new valve has more than 45 degrees less phase-lag than the original valve, which means that less phase-lead compensation is required to frequency tune the force feedback loop.Consequently, the new servo valve also improved the linear behavior of the PCL at low frequencies up to approximately 30 Hertz.This is important, as one requirement for improving the performance of the McFadden PCL is to get the actuator assembly to appear as a simple integrator in that frequency range.The more it appears as a simple integrator, the more the PCL can be made to look as an ideal second order mechanical system.The new servo valve provided a dramatic improvement over the original PCL actuator servo valve.There was an improvement in the pilot frequency range bandwidth.There was also an improvement in less phase lag in the upper frequency range where tuning is required.This makes tuning easier to accomplish.The end result is a larger pilot frequency range and a larger feed-forward path gain for smoother pilot control response.
V. Tuning CircuitsAn expanded functional diagram for the McFadden analog controller (Fig. 3) is shown in Fig. 10, which now includes the elements associated with tuning.These include the lead-lag, notch filters, integrator with phase-lead, Nonlinear Damping Compensation (NDC), and dither.These are discussed in this section.NDC and dither are set by  trim potentiometers located on the printed wiring boards.All circuits whose components can vary among PCLs have components mounted on standoffs so that they can be easily exchanged.These would include the notch filters, phase-lead, and integrator with phase-lead circuits.
A. Force Feedback LoopWhile the mass m of the actuator cannot be varied to change the PCL's natural frequency (other than to build a lighter actuator), the feed-forward path gain can be varied to provide some control over the PCL's natural frequency.In frequency tuning the McFadden PCLs, one goal is to get the feed-forward path gain large enough so that further increases in the feed-forward gain do not cause significant increases in the natural frequency.Then by providing a potentiometer adjustment for decreasing the feed-forward gain, the ability to decrease the natural frequency is achieved.The relationship between the feed-forward gain and natural frequency is used to determine when the optimal feed-forward gain is achieved.Large feed-forward gains are achieved through the use of lead-lag functions in the force feedback loop.Up to three first order, lead-lag functions are used to shape the response of the force feedback loop where phase compensation is practical.A caution in using a phase-lead function is the high frequency gain that results in troublesome high resonance frequencies that would ordinarily be suppressed.Limiting the amount of phase-lead per first order lead-lag function or circuit can at least reduce this effect.For example, cascading two first order 30degree functions to obtain a second order 60-degree phase-lead function reduces the high frequency gain by 3.8 dB, as opposed to using a single first order 60-degree phase-lead function.The saving is more dramatic when trying to implement higher phase-leads with a single first order function.The reduction in high frequency gain, however, comes at the cost of more circuitry.A maximum of 45 degrees per first order phase-lead function was chosen as a practical compromise between the number of circuits required versus the resulting reduction in high frequency gain.The third order lead-lag function shown in Fig. 4 is of the form: The time constant requirements are:! " 1 s + 1 ( ) " 2 s + 1 ( ) " 3 s + 1 ( ) " 4 s + 1 ( ) " 5 s + 1 ( ) " 6 s + 1 ( )(! " 1 #" 2 , " 3 #" 4 , " 5 #" 6(2)
B. Feed-Forward PathThe non-ideal response of the actual PCL actuator limits the performance of the pilot control loader at low frequencies.The actuator dynamics have a nonlinear frequency roll off that, however, can be compensated by improving the acceleration command to position output for the ideal model.This is accomplished by inserting a first order phase-lead term into the acceleration command to velocity command integrator that is in the feed-forward path.The integrator with phase lead function is used to convert the PCL actuator acceleration command to a velocity command and compensate for the high frequency phase lag in the actuator dynamics.! " s + 1 " s (3)This function replaces the simple integrator shown in Fig. 3 that generates velocity command.The lead term is used to provide phase compensation for the frequency roll-off of the PCL actuator.The application of this circuit will be described in more detail later.Notch filters suppress servo valve resonant frequencies and any other peak frequencies that occur where phase compensation is not practical.The 2 nd order variable depth notch filter is used in place of a standard 2 nd order notch filter to get the amplitude attenuation necessary while minimizing the phase-lag at lower frequencies.The transfer function for the 2 nd order variable depth notch filter is given by:! " n 2 s 2 + 2 K A #" n s + 1 " n 2 s 2 + 2#" n s + 1 (4)K A is the attenuation coefficient that is scaled from 0 to 1.A value, for example, of 0.5 would give a -6 dB attenuation at the center frequency ω n where ω n is equal to 1/τ n .The damping ratio ζ provides control over bandwidth.Figure 11 provides an example of various depth settings for a fixed value of ζ.The preceding sections explained hardware improvements to the PCL actuator.This was followed by an explanation of the tuning circuits that will be used for the final steps of optimizing PCL performance.With the frequency tuning circuits and improved transducers, we are ready to optimize PCL performance.
VI. Optimizing Pilot Control Loader PerformanceThis section explains the tuning procedures for optimizing performance of the PCL.Each type of PCL is different in its requirements for tuning.Therefore, the following is a general guide that illustrates the principle behind the tuning procedure.The pitch axis of a McFadden wheel and column assembly will be used to illustrate the optimization procedures.The procedures are the same for the roll axis or other types of McFadden PCLs.The phase-lead compensation required will vary for different PCL types due to slight differences in mechanical design.
A. Setting Servo Valve DitherServo valve dither is used to eliminate servo valve stiction effects.The first step is to check that hydraulic pressure and oil temperature are correct.Servo valve dither is set by looking at the differential pressure transducer output while adjusting both the frequency and amplitude of the dither signal that is fed directly to the servo valve input.The dither signal circuit generates a square wave whose frequency range is from approximately 600 Hertz to 1.5 K Hertz and an amplitude adjustable to 1.5 volts.First set the amplitude to 0.5 volts and then adjust the frequency until the differential pressure transducer shows a peak sinusoidal output.The peak will occur at the resonant frequency of the servo valve, which in the VMS system is approximately 1.1 kilohertz.Then adjust the dither square wave amplitude to obtain a 20 millivolt peak output on the differential pressure transducer output as illustrated in Fig. 12.If the input dither signal amplitude approaches 1-volt peak, there is probably excessive stiction within the servo valve and the performance of the valve is suspect.The ultimate test is to check the smoothest of the PCL with zero force conditions (limp stick mode).If the movement of the particular axis is smooth with no noticeable turn-around lag or "stickiness," then the valve is operating correcting.In some situations, up to a 50 millivolt peak output on the differential pressure transducer may be necessary to obtain a smooth pilot control action.This should be the exception.If in doubt, a frequency response check of the servo valve should be performed.
B. Shaping Actuator ResponseShaping the overall actuator position to acceleration input response consists of setting the phase-lead in the "Integrator with Phase-lead" compensator in Fig. 10 so that the overall response of the integrator or acceleration command to the position potentiometer output is an approximation for a second-order integration.The ideal relationship between the position output and the acceleration command is a second-order integrator or 1/s 2 (Fig. 3).However, the actuator dynamic position-to-velocity command has a frequency roll-off typically in the 10 to 20 Hertz range as illustrated in Fig. 13.The amplitude slope and phase in Fig. 13 show a reasonable match with a pure integrator up to about 16.7 Hertz where the amplitude is now 45 degrees out of phase.To compensate, the integrator phase-lead corner frequency is set to 16.7 Hertz, which gives +45 degrees of phase-lead at the same frequency.A frequency response of the position output to acceleration command input with the compensator is illustrated in Fig. 14.The amplitude slope in Fig. 14 now shows a reasonable correlation with the ideal -40 dB per decade of a 1/s 2 slope.The 2 nd order 90 degree roll-off is out to 26.0 Hertz.The frequency response plot in Fig. 14 shows that the combination of the electronic integrator with phase-lead and hydraulic actuator form a good approximation of a linear second order system up to at least 10 Hertz.
C. Shaping Force Feedback Loop ResponseShaping the force feedback loop response is necessary so that the feed-forward path gain can be increased to maximize the natural frequency without causing instabilities.Optimal gain is achieved when further increases in the feed-forward gain do not cause any significant change in the natural frequency of the PCL.The force feedback loop (Fig. 3) is the remaining loop when the damping factor and spring gradient are both set to zero in the McFadden analog controller.Shaping the force feedback loop for optimum response consists of first plotting a baseline response (before any phase-lead compensation has been added) and then modifying the response to achieve the required performance.Measuring the force feedback loop response requires that the force gradient and damping factor, as shown in Fig. 3, be set to zero.However, the PCL position would drift so as to make this approach impractical.Instead, a small amount of force gradient and damping factor are used to keep the PCL centered and stable.This only affects the frequency response plot typically up to just a few Hertz.This is not a problem as the frequency range of interest, for tuning, starts at about 50 Hertz and extends to about 1.5 kilohertz.This means that Bode plots represent the force feedback loop response.A baseline frequency response plot (i.e., without frequency tuning) of the force feedback loop is shown in Fig. 15.To ensure stability during this test, the loop gain is kept sufficiently low by decreasing the Gain in the feedforward path (Fig. 3).The example frequency response plot illustrated in Fig. 15 has the 0 dB and -180° lines marked for reference.This plot shows that increasing the loop gain by about 10 dB will cause instabilities or oscillations around 55 Hertz.A third order lead-lag compensator will be used to improve the phase response between 55 and 400 Hertz.There is a resonant frequency at slightly over 1 kilohertz (Fig. 15), and the phase-lead compensation at lower frequencies will amplify this resonant frequency.Phase-lead compensation at this frequency is not practical because of the extreme phase-lead roll off.Therefore, a notch filter will be necessary to suppress this resonant frequency.Adding an ordinary 2 nd order notch filter, with its significant phase-lead at lower frequencies, will counteract the phase-lead compensation.To minimize this effect, a variable depth notch filter of the form shown in Eq. ( 4) is used.K A is an attenuation factor scaled from 0 to 1 and will not be determined until the phase-lead compensation has been added to the force feedback loop response and the resulting high frequency is measured.The 2 nd order variable depth notch filter for the servo valve resonant frequency was set at 1.14 kilohertz with a coefficient of 2.0 for damping ratio and a notch depth K of 0.125 or -18 dB.The third order phase-lead compensator was set at 135 degrees maximum at 400 Hertz.In this example, all the phase lead of 45 degrees for each first order phase-lead compensator was applied at a single frequency of 400 Hertz.For other PCL systems, it has been necessary to apply first order phase-lead at different frequencies to properly shape the frequency response.After achieving the desired phase response, the Gain in the feed forward path is increased until there is no noticeable change in the natural frequency or mass of the pilot control.This is the optimal Gain setting.The final force feedback loop frequency response, after applying the notch filter and third order phaselead compensator, is shown in Fig. 16.Note the gain and phase margins of 12 dB and 35° respectively.Also note that the force feedback loop amplitude response was increased by approximately 18 dB from the baseline Bode plot at 10 Hertz.This increase in loop gain increases the natural frequency of the wheel and column pitch axis.Temporarily increasing the loop gain by another 6 dB does not show any appreciable change in the natural frequency.Therefore, the final loop gain increase of 18 dB at 10 Hertz is optimal and requires no further improvement.
D. Setting Nonlinear Damping CompensationThe purpose of the Nonlinear Damping Compensation (NDC), as shown in Fig. 10, is to provide the damping needed to stabilize the nonlinear circuits.This is accomplished by coupling some velocity feedback with position feedback.The damping factor used for the normal spring gradient setting may not be sufficient to keep the PCL stable when the nonlinear circuits, such as force breakout, friction, stiction, or the electrical stops, are used.These nonlinear circuits required very large spring gradients.The lack of sufficient damping will cause oscillations when the pilot control is in any one or combination of these nonlinear circuits.The amount of NDC required is small and does not cause any noticeable damping at low force gradients.But, when the NDC has been set properly, the high force gradients in the nonlinear functions also increase the coupled velocity feedback to provide sufficient damping.The procedure for determining NDC is started by setting the spring gradient to 300 lbs/in.Connect a low frequency square wave generator to the position trim input.Set the amplitude of the square wave and Damping Factor on the front panel of the McFadden analog controller to give approximately two inches of total travel of the pilot control.The NDC is adjusted until the position response is slightly underdamped as shown in Fig. 17.It might be temping to set the NDC for a critically damped response but this will result in a poor simulation of a stop.An underdamped response, as shown in Fig. 17, gives a more "crisp" feeling.Another consideration is that a slightly underdamped response means a lower velocity feedback loop gain, which lowers the possibility of velocity loop oscillations.When done properly, the end result is a smooth and noise free operation of the pilot control when the nonlinear circuits are used.There is also an increase in the maximum spring gradient capability without adding any significant damping at low spring gradient settings.This completes the tuning procedures.The pilot control should have smooth motion with no "turn-around bump."The position output to acceleration command input should be a good approximation of a second order integrator in the pilot's frequency response range, and the PCL should have the highest natural frequency capability for any spring gradient setting.Finally, the pilot control should be stable for any combination of nonlinear functions.
VII. Other Improvements
A. CablingThe cabling used to interface the transducers and PCL controls (switches, buttons, etc.) with the outside world have produced some special problems of its own.Cables that must move with the control adds additional problems as explained in the following sections.This is a condition where the movement of the control drags a cable around to follow its motion.An example would be the cable that connects to the grip control cable shown in Fig. 18.Cable drag can add additional force requirement to the control, and is most noticeable when the control is programmed for low force conditions.Attaching the cable to the control at its axis can lower cable drag effects.This becomes more complicated for a twoaxis control, but compromises can be made when the cable is very flexible as discussed next.
Cable Drag
Cable StiffnessThe stiffness of a cable can add additional forces to a pilot control if the cable is required to bend with the motion of the pilot control.This is particularity noticeable when the pilot control is programmed for low force conditions.The solution was to use an available microphone cable that was made to be extremely flexible so that it would lay flat on the floor as it followed the microphone user (Fig. 18).
B. Vacuum SystemThe PCL uses hydrostatic bearings to provide a virtually friction-free motion.A vacuum recovery system is required for returning oil from the hydrostatic bearings to the hydraulic pump.If a vacuum pump is used with more than one actuator system (e.g., a fighter stick and a collective), then vacuum gauges should be installed at each actuator vacuum port.A vacuum gauge installed at the vacuum pump is not the same as a vacuum gauge installed at the actuator vacuum port because of the effect of oil in the return lines.It is best to install gauges at all vacuum ports and the vacuum pump.If two or more PCL actuators are connected to a single vacuum pump and the vacuum is not equal at each vacuum input port, it may be necessary to install needle valves to control the amount of oil flow from the actuator with the highest vacuum reading so as to improve the vacuum on the other actuators.This can be difficult, but it helps to have the needle valves located the same distance from each actuator.It also helps to keep the vacuum return lines as short as possible and to locate the vacuum pump below the level of the actuators.In general, it takes a minimum of 5 inches of Hg vacuum at the input vacuum port on the PCL actuator for the recovering system to work properly.The vacuum pump itself should be able to draw close to 30 inches of Hg.
VIII. ConclusionsOptimizing the performance of the PCLs used at the Vertical Motion Simulator has resulted in a greatly improved simulation capability.Improving the precision of the position and velocity feedback transducers allowed larger position and velocity loop gains and greater bandwidth in the PCL.Furthermore, increasing the maximum force gradient from 200 pounds per inch to 300 pounds per inch has produced sharper force breakouts and stiffer simulated position stops.An improved differential pressure transducer has minimized force drift and an improved servo valve has resulted in higher pilot control frequency response and smoother motion.Optimization of the analog controller tuning has enabled higher pilot control frequency bandwidth and larger natural frequencies.When combined, these improvements have resulted in pilot control simulations with better performance through greater pilot control natural frequencies and smoother and precise simulation of nonlinear functions.Figure 1 .1Figure 1.Cutaway diagram of the VMS facility.Table1.VMS motion capability.
Figure 2 .2Figure 2.An Interchangeable Cab mounted on test stands.
Figure 3 .3Figure 3. Idealized PCL force feedback translational model for an idealized single axis.
FigureFigure 4. McFadden cyclic side view.
Figure 5 .5Figure 5. Potentiometer noise test oscillographs.
Figure 6 .6Figure 6.Potentiometer with pseudo-center tap circuit.
Figure 7 .7Figure 7. Differential pressure transducer and servo valve.
Figure 8 .8Figure 8. Differential pressure transducer and servo valve tester.
Figure 9 .9Figure 9. Servo valve response without and with dither.
Figure 11 .11Figure 11.Variable depth notch filter frequency response plots.
FigureFigure 12.Servo valve dither adjustment oscillograph.
Figure 13 .13Figure 13.Velocity command response plot.Pitch position potentiometer output to velocity command frequency response plot.
Figure 14 .14Figure 14.Acceleration command response plot.Pitch position potentiometer output to acceleration command frequency response plot.
Figure 15 .15Figure 15.Force feedback response before tuning.Force feedback loop frequency response before phaselead compensation has been added.
Figure 16 .16Figure 16.Force feedback loop response after tuning.Force feedback loop frequency response after phase-lead compensation has been added to the force feedback loop and servo valve variable depth notch filter has been added to the feed-forward path.
Figure 17 .17Figure 17.Nonlinear damping factor position response example.
Figure 18 .18Figure 18.Cyclic cable layout.
			Todd, C.D. for Bourns Inc., "The Potentiometer Handbook," McGraw-Hill Book Company, New York, 1975, Output Smoothness OS, 30.
		
		
			

				
			
		
	
