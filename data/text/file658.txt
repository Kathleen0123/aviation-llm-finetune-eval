
	
	
		
I. Nomenclature
ùëé ùë•= Commanded linear acceleration along inertial x-axis, ft/s 2   = Commanded linear acceleration along inertial y-axis, ft/s 2   = Commanded linear acceleration along inertial z-axis, ft/s
II. IntroductionThere have been numerous studies to support definition of the business case, mission, and concepts of operation for a future Urban Air Mobility (UAM) fleet of vehicles [1][2][3][4].Studies have considered community acceptance of such aircraft for business and personal applications.Overall, these aircraft could support the efficient movement of passengers and supplies in a metropolitan setting.Research and design in support of UAM vehicle development has been ongoing at NASA.Concepts vary in size and configuration and include quadrotors, side-by-side tandem rotor systems, tilt-wings, and lift-plus-cruise vehicles [5][6][7][8].Various modes of propulsion have been considered including turboshaft, hybrid, and all-electric, capturing impacts on overall system performance and efficiency.NASA is also leveraging its air traffic simulation capabilities to study impacts of UAM operations on existing air traffic in the National Airspace (NAS).The FutureFlight Central (FFC) facility at NASA Ames is an immersive air traffic control tower simulator, with a 360-degree projector system, audio and video recording, and workstations that allow users to control aircraft in the simulation or to participate as subjects of human factors studies.The facility can be used to explore concept human-in-the-loop UAM operations, particularly for approach, departure, and ground segments in the vicinity of UAM vertiports.For this purpose, the NASA Airspace Target Generator (ATG) software, which simulates air traffic for the FFC facility, is undergoing upgrades to support simulation of UAM aircraft.The ATG software is primarily a fixed-wing aircraft simulation platform, supporting reduced-order modeling of piston, turbo-prop, and jet-powered aircraft.It provides human user interfaces for interactive control of aircraft during simulation events.Past efforts have integrated commercial aircraft models by quantifying mass, aerodynamic, and propulsion characteristics within the ATG aircraft model database; a control law common to all models was then tuned for each aircraft type to support closed-loop trajectory simulation.Mature ATG software components rely on an underlying assumption that aircraft models are fixed-wing, and a solution for UAM vehicle model integration must facilitate interoperability with these existing components.Past work performed by the authors (Chung, W., Paris, A.) was of similar nature wherein a fleet of Civilian Tiltrotor (CTR) aircraft of various passenger capacity were modeled in a fixed-wing performance database to support NAS integration studies [9].These past efforts offered a general basis for incorporation of 6-DOF UAM vertical takeoff and landing (VTOL) aircraft models within the ATG environment; various modes of operation for the CTR were captured in a performance database wherein the rotor system contributed to both forward propulsion as well as system lift.Because ATG is a "gate-to-gate" simulation, this work extended these methods to enable transition toand-from ground-based (e.g., taxi) operations as well.This paper describes the initial phase of UAM aircraft model integration into the ATG software.Three UAM electric VTOL aircraft concepts were considered based upon available design information and 6-DOF dynamical models, including a lift-plus-cruise (LPC) fixed-wing aircraft with supplemental lifting fans, a single-seat quadrotor (QEP1), and a six-seat quadrotor (QEP6) [5,6].A repeatable process was developed to handle variation in the available model source data.The process allows representation of VTOL aircraft within the fixed-wing ATG modeling environment without significant change to the underlying equations of motion and vehicle performance database.
III. MethodologyProcedures were developed to integrate 6-DOF physics-based rotary-wing models into NASA's ATG aircraft model database to support UAM studies in the FFC facility simulation environment.For this study, three UAM aircraft concepts were considered: a Lift-Plus Cruise (LPC) concept, a Quadrotor Electric Propulsion (QEP) one-seater (QEP1) concept, and a QEP six-seater (QEP6) concept [5,6].The aircraft concepts are illustrated in Fig. 1.All vehicle concepts are equipped with electric propulsion systems.The LPC vehicle is a modified fixed-wing aircraft, modeled after the Cessna TTX, including four supplemental lifting fans for enhanced lift during low-speed operation.It has a wingspan of 36 ft and operating gross weight of 3,300 lbs.The aircraft was shown to have a maximum airspeed of 210 kts and a service ceiling of 25,000 ft.The QEP1 vehicle has a rotor diameter of 12.62 ft and an operating gross weight of 1,428 lbs.The QEP1 was shown to have a maximum obtainable airspeed of 150 kts and a service ceiling of 20,000 ft.The QEP6 has a rotor diameter of 26 ft and an operating gross weight of 6,480 lbs.The QEP6 was shown to have a maximum obtainable airspeed of 135 kts and a service ceiling of 30,000 ft.6-DOF dynamical systems for each concept were sourced from the NASA FlightDeckZ (FDz) simulation software.FDz is capable of simulating a wide range of vehicle classes with integrated aircraft avionics, including an autopilot system, flight management system, and flight display.It has been used at NASA for research and development of advanced guidance, navigation, and control technologies, as well as human-machine interface and flight safety technologies [10].Several challenges were overcome to develop integration procedures for the ATG software.Aircraft performance data were available from multiple sources including 6-DOF simulations and design document references; these data were brought together to build the ATG performance characteristics.The 6-DOF models were also of differing structure: the LPC was built upon a fully non-linear set of aerodynamic model tables with typical functionality of Mach, angle-of-attack, angle-of-sideslip, and Reynolds Number, whereas the QEP variant 6-DOF models were built upon a stability derivative model structure in the form of a series of linear models stitched together to form a fullenvelope model.Additionally, all models were under continued development.Most importantly, ATG is a fixed-wing performance database not readily suitable for direct incorporation for VTOL class aircraft performance data.The following sections detail the structure of the ATG model database and then outline the integration procedures for both "conventional style" 6-DOF models (LPC) and stability derivative-based 6-DOF models (QEP).
A. ATG Model Component OverviewThe ATG software contains a database of aircraft performance models.Aircraft are modeled as point masses and their trajectories are propagated in time, targeting defined waypoints and flight conditions [11].Depending on the airspeed, altitude, and acceleration desired at a given waypoint or flight segment, the ATG system back-calculates a required overall lift coefficient and net thrust required to meet that target.Overall lift and thrust are then limited given the bounds defined within the performance database for the given aircraft.The major model components that must be supplied for any given vehicle are defined in Table 1.
Table 1. Composition of each aircraft model in the ATG model database
Mass and GeometryGross weight, reference wing area, wingspan, and fuselage length
Flight envelope definition Maximum altitude and airspeed
Aerodynamic performanceDrag: clean, flaps down, gear down, and speed brake deployment Lift: definition of maximum lift coefficient scheduled with flap setting Flap setting scheduled with speed
Propulsion system performanceMaximum forward propulsive thrust, maximum climb thrust, and idle thrust as a function of airspeed and altitude
Stability and controlAutopilot gains schedule for shaping vehicle response as needed
B. Mass and GeometryFor the LPC, QEP1, and QEP6 aircraft, mass and geometry information were referenced from the FDz simulation models.Gross weight was set to the default operational weight for all variants.Aircraft geometry was also referenced from the 6-DOF simulations; however, the LPC and QEP definitions differ.The LPC vehicle geometry has a well-defined wing area, wingspan, and fuselage length; the wing area of 141.2 ft 2 was used as the overall reference area.In the case of the QEP variants, the overall reference area was defined as the net rotor disk area as shown in the dashed circles in Fig. 2. The effective fuselage length was set based on the most extreme forward and aft distance reached by the rotor tip path planes.Effective wingspan was set based on the extreme left to right reach of the rotor tip path planes.
C. Flight EnvelopeThe maximum airspeed vs. altitude envelope was generated using the FDz simulation for each aircraft by performing level flight trim speed sweeps at various altitudes, as outlined in Fig. 3.A grid of trim conditions, each characterized by airspeed and altitude, were used to initialize the FDz simulation; each state was classified according to whether the vehicle could be trimmed to level flight by the FDz autopilot.
Fig. 3 ATG vehicle operating envelope definition process using FDz 6-DOF simulation trim sweepsThe service ceiling altitude for the LPC was obtained from available documentation for a Cessna TTx aircraft (the design basis for the LPC) [12].The QEP service ceilings were computed using NASA's Design and Analysis of Rotorcraft (NDARC) software [13].
D. Aerodynamic PerformanceFor the ATG model database, the aircraft drag coefficient (  ) is assumed to be a piecewise-linear function of the Mach number () and coefficient of lift (  ) tabulated into lookup tables.The aircraft performance is characterized up to typical aircraft stall.A standard maximum lift coefficient (   ) must be supplied denoting the onset of stall.Each vehicle wing flap setting then is assigned a specific set of lookup tables and    value.The introduction of VTOL aircraft to ATG requires the tailoring of rotary wing performance into its fixed-wing modeling environment.For this new integration work, the rotor systems were interpreted as "supplementary lift generators" that provide aid to any standard lifting-wing surface part of the design, and so their aerodynamic effects would be captured by incorporating them into ATG performance parameters that were designed originally to capture lifting-wing surface characteristics.For propulsion performance, ATG requires tabulation of maximum and minimum (i.e., idle) forward propulsive thrust in level flight and climb as a function of airspeed and altitude.Because ATG does not currently support electric propulsion systems, the modeled propulsion systems were set to deactivate fuel burn to preclude any vehicle gross weight changes with simulation time propagation.These techniques were addressed differently based on whether a conventional 6-DOF model was available (LPC) or a 6-DOF model based on stability derivatives was available (QEP).
Conventional 6-DOF ModelThe LPC 6-DOF FDz model was built up using non-linear aerodynamic model tables.Basic airframe supplemental tables for lift and drag coefficient were a function of angle-of-attack, angle-of-sideslip, Mach, and Reynolds Number for the overall airframe aerodynamics.To integrate with the ATG model database, lookup tables for the aircraft drag coefficient were generated using the aerodynamic model tables extracted from the 6-DOF FDz simulation.Given a value for Mach number and Reynolds number, the tables were swept over a range of angle-of-attack ().Angle-of-sideslip was assumed to be zero throughout model development.Drag table entries were limited to cases where  ‚àà [-5¬∞, +17¬∞] to satisfy the linear lift regime requirement (no post-stall behavior was modeled).Sample zero-flap aerodynamic table sweep results are shown in Fig. 4. Note the stall speed at zero flap setting for the LPC was found to be approximately 80 KCAS.As mentioned at the beginning of this section, the ATG system requires the assignment of an effective flap setting for model configuration purposes.Design information available for the LPC was the source of linking an effective flap deflection against a given speed; given the standard cruise altitude envisioned for the vehicle was 1,000 ft, nominal operating points for effective flap deflection were defined as in Table 2. Altitudes are reported in feet above Mean Sea Level (MSL) and speeds reported as knots calibrated airspeed (KCAS).A zero flap setting was mapped to the case where the LPC lifting fans are inoperative and do not provide supplemental lift or drag, whereas a 100% flap setting was mapped to the case where the lifting fans fully support the vehicle weight.For a zero flap setting, the vehicle is truly in a fixed-wing configuration and operates as a standard general aviation aircraft in cruise conditions.With non-zero flap setting, the lifting fans are in operation and provide significant lift to support vehicle weight for level flight.The non-zero-flap drag polar tables for the ATG model database combine aerodynamic effects due to both the aircraft structure as well as the lifting fans.The process by which this combination was performed were as follows:1) the lifting fan thrust was set to a value needed to trim the 6-DOF FDz simulation for level flight at the defined flap setting operating condition in Table 2; 2) the lifting fan thrust was held constant while a sweep over value of  was performed (similar to the zero-flap case); 3) the lift and drag contributions from the aircraft structure and the lifting fan elements were summed and then reduced to net lift and drag coefficients.When sweeping over negative  values, the lifting fans produce a component of thrust causing negative drag values in the polar table; these entries were removed and the drag polar value was held to the last preceding value with positive drag entries.ATG model tables were built at speeds as low as 10 KCAS, and as such the LPC ATG model can operate in a "fixedwing" sense to low airspeed.However, because the ATG modeling framework requires all aerodynamic coefficients must be non-dimensionalized using free-stream dynamic pressure, there are unconventional increases in lift and drag coefficient values when in the rotary wing low speed regime; handling of these flight regimes is explained further in Section IV.To limit the available lift system performance, the ATG model database requires definition of a    value for each effective flap setting.For the LPC model, this was defined as the sum of the bare airframe lift coefficient (  , ) and the net available incremental effect from the lifting fan system.The airframe base contribution was determined by linearly interpolating the aircraft lift curve table at the speeds indicated in Table 2.The resulting plot of airframe lift coefficient versus angle-of-attack (example of this for the zero flap setting is shown in the upperleft plot in Fig. 4) was used to identify the available airframe maximum lift coefficient at stall.The lifting fan contribution to    was found by leveraging definitions in the 6-DOF FDz model for maximum available lifting fan thrust at altitude (   ); this was non-dimensionalized using reference area () and dynamic pressure ( ÃÖ).The    value was then computed as the sum:ùê∂ ùêø ùëöùëéùë• = ùê∂ ùêø ùëöùëéùë•,ùëéùëñùëüùëìùëüùëéùëöùëí + ùëá ùëüùëúùë°ùëúùëü ùëöùëéùë• ùëû ÃÖùëÜ(1)For the pure hover condition (effective flap setting 100%), a representative, small dynamic pressure, corresponding to 10 knots true airspeed (KTAS) at sea level, was used to support non-dimensionalization.
Models from Stability DerivativesThe QEP 6-DOF FDz models consist of linearized aerodynamic lookup tables-the stability derivatives computed from the state space model matrices are linearly interpolated based on airspeed.The state vector includes body axis velocities and body axis angular rates.The QEP vehicles are pure rotorcraft with negligible lift generated by the airframe.The rotor system provides both forward thrust and lifting force.Significant differences in 6-DOF model structure and content compared to the LPC vehicle required development of an additional modeling approach.To obtain drag polars for the QEP vehicles, the design papers were first referenced to obtain an overall drag estimate for each variant.Refs.[5] and [6] provided an overall drag area (/ ÃÖ) that included landing gear, fuselage, and rotor system support structure effects; the QEP1 value was reported as 3.57 ft 2 (Ref.[5]) and the QEP6 value was reported as 12.9 ft 2 (Ref.[6]).The drag polar tables for ATG were then built by assuming a constant   value across the flight envelope, computed using standard non-dimensionalization as   = /( ÃÖ) (where  is the reference area as defined previously in Section B).This resulted in an overall   of 0.007135 for the QEP1 and 0.005982 for the QEP6 variant.Note that this approach provides drag due solely to the fuselage structure, and does not incorporate the significant ability of the rotor system to provide drag for deceleration through backward tilt of the thrust vector.To emulate this effect within ATG, the fixed-wing speed brake deployment capability was leveraged, where speed brake drag coefficients can be provided at defined Mach numbers.In this case both QEP variants used a Mach sweep of 0.04 to 0.19 stepping by 0.03 Mach; dynamic pressure for each speed at the operational altitude of 1,000 ft. was computed as  ÃÖ = (1/2) 2 , allowing for computation of available airframe drag  =  ÃÖ  .For a desired maximum vehicle deceleration   , the difference between the desired deceleration rate and the rate offered by inherent fuselage drag provided a baseline for supplemental speed brake drag:‚àÜùê∑ ùëÜùêµ = ùëé ùëöùëéùë• (ùëöùëî) -ùëû ÃÖùëÜùê∂ ùê∑(2)The resultant non-dimensional speed brake coefficients at each Mach were then computed as:‚àÜùê∂ ùê∑ ùëÜùêµ = ‚àÜùê∑ ùëÜùêµ ùëû ÃÖùëÜ(3)For the QEP models, 0.2g was chosen for   .Analogy can be drawn to studies of controller limits for ground-based passenger-carrying vehicles (see Ref. [14]); the best choice for controller limits for airborne passenger-carrying applications such as UAM VTOL aircraft is an ongoing topic of research.The    value for QEP variants was based on solely the net available rotor thrust, because the QEP variants have no significant lift contributions due to airframe structures.For each flight condition in the QEP drag polar tables, standard non-dimensionalization was used to determine corresponding values for    as:ùê∂ ùêø ùëöùëéùë• = ùëá ùëüùëúùë°ùëúùëü ùëöùëéùë• ùëû ÃÖùëÜ(4)The maximum available rotor thrust for each QEP variant at sea-level was referenced from the 6-DOF FDz aircraft model.The maximum sea-level thrust capability of the QEP1 is 2,142.9lbs while the QEP6 can generate up to 9,720 lbs.
E. Propulsion System PerformanceATG requires definition of maximum forward propulsive thrust, maximum climb thrust, and idle thrust performance across the flight envelope as a function of airspeed and altitude.Similar to the previous section concerning aerodynamic performance, the LPC and QEP variants each had different procedures for integration into the ATG propulsion system modeling framework.
Conventional 6-DOF ModelThe 6-DOF LPC model supported only standard day conditions, so the ATG model was built on that basis alone.In addition, idle thrust was set to zero in the ATG propulsion performance tables based on data from the 6-DOF model, and maximum available climb thrust was set identically to maximum available cruise thrust.Effects due to propeller advance ratio were not modeled in the 6-DOF simulation and, as such, there is only an altitude dependency with no speed dependency.The trend for maximum thrust available at altitude for the LPC aircraft is shown in Fig. 5.
Fig. 5 Maximum available thrust at altitude for the LPC aircraft (standard day atmospheric conditions).
Models from Stability DerivativesThe linear model formulation of the QEP 6-DOF FDz simulations do not provide forward thrust required for level flight.Instead, level flight trim speed sweeps (as outlined in Fig. 3) were used to determine maximum obtainable speed at operational altitudes within the vehicle flight envelope.As previously noted, the overall drag in the form of / ÃÖ is known for each QEP variant; identification of the maximum obtainable airspeed at altitude allows for the determination of a maximum dynamic pressure, and thus overall drag to be overcome:ùëá ùëöùëéùë• = ( ùê∑ ùëû ÃÖ ) * ùëû ÃÖ ùëöùëéùë•(5)Due to the lack of cabin pressurization, the operational altitudes of the QEP variants may be further limited.In the case of the QEP1 vehicle the typical operational altitude envelope was considered from sea-level up to 5,000 ft.As such, the resulting maximum forward propulsive thrust table was developed to cover this region.In the case of the QEP6 variant a greater range of operational altitude was defined up to 20,000 ft.The resulting maximum propulsive thrust available at altitude for the QEP6 is shown in Table 3.
IV. VTOL Takeoff and Landing ConsiderationsATG simulates "gate-to-gate" fixed-wing aircraft motion for the NASA Ames FFC facility.This includes dynamics for airport surface movement, takeoff, departure, en route, arrival, and landing.The proposed VTOL aircraft model integrates with the existing ATG model framework, and as such breaks down at low airspeed and extreme flight path angle.In particular, the lift force  is computed as:ùêø = ùëû ÃÖùëÜùê∂ ùêø(6)The ATG dynamical equations assume  is the primary control force for balancing the vehicle weight in the vertical direction-there is no mechanism to provide a vertical thrust control.The lift coefficient   is set directly by the control law using one of the following equations as a function of the flight regime:ùê∂ ùêø = { ùê∂ ùêø ùëü + ùêæ ùëâ ùëê (ùëâ ùëê ùëü -ùëâ ùëê ) + ùêæ ùõæ,ùëâ ùëê (ùõæ ùëü -ùõæ) ùê∂ ùêø ùëü + ùêæ ùëÄ (ùëÄ ùëü -ùëÄ) + ùêæ ùõæ,ùëÄ (ùõæ ùëü -ùõæ) ùê∂ ùêø ùëü + ùêæ ùõæ (ùõæ ùëü -ùõæ)(7)The determination of the specific flight regime corresponding to each control law is described in detail in Ref. [11].Here,   is the calibrated airspeed and    is the controller reference calibrated airspeed;  is the flight path angle and   is the controller reference flight path angle;  is the Mach number and   is the controller reference Mach number;   is the lift coefficient and    is the controller reference lift coefficient;    ,   ,   ,  ,  ,  , are proportional control gains set via lookup tables as a function of aircraft type, gross weight, and Mach number.As the aircraft slows to zero airspeed for a VTOL landing (or starts at zero airspeed for a VTOL takeoff),  ÃÖ ‚Üí 0 and so to balance the vehicle weight,   ‚Üí ‚àû.The control strategy saturates at   >    and the aircraft would fail to remain airborne in the simulation.To overcome this limitation, the VTOL aircraft model transitions from the existing ATG dynamics into a set of customized VTOL dynamics for the low-speed operations during the takeoff and landing portions of flight.The transition between the two sets of equations is piecewise-continuous in velocity and position, with possible discontinuity in acceleration.The following simplifying assumptions were made for the takeoff/landing region of flight occurring within a limited radius and altitude above the takeoff/landing position: a) the vertical lift elements onboard the vehicle are capable of producing a 0.2g acceleration in any direction; b) the dynamics include zero wind contribution during takeoff/landing.Given these assumptions, the VTOL dynamics are defined as a discretized linear time-invariant system with a fixed simulation time step Œî:[ ùë• ùëò+1 ùë¶ ùëò+1 ùëß ùëò+1 ùë•Ãáùëò +1 ùë¶Ãáùëò +1 ùëßÃáùëò +1 ] = [ 1 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 Œîùë° 0 0 1 0 0 0 Œîùë° 0 0 1 0 0 0 Œîùë° 0 0 1 ] [ ùë• ùëò ùë¶ ùëò ùëß ùëò ùë•Ãáùëò ùë¶Ãáùëò ùëßÃáùëò] + [ 0 0 0 Œîùë° 0 0 0 0 0 0 Œîùë° 0 0 0 0 0 0 Œîùë° ] [ ùëé ùë• ùëò ùëé ùë¶ ùëò ùëé ùëß ùëò ](8)Discrete time points are represented by the sequence {,  + 1,  + 2, ‚Ä¶ } where  = 0 represents the initial simulation start time point  0 , and for  ‚àà ‚Ñï, time point  +  represents simulation time  0 + Œî.The vector [    ]  represents the position of the aircraft relative to the takeoff/landing position in an inertial coordinate system with origin fixed at the takeoff/landing position ground level, -axis pointed east, -axis pointed true north, and -axis pointed upward.The vector [ÃáÃá]  represents the velocity of the aircraft relative to the takeoff/landing position.The vector [      ]  represents the commanded acceleration along the inertial system coordinate axes.The commanded acceleration is computed using the following control law:[ ùëé ùë• ùëò ùëé ùë¶ ùëò ùëé ùëß ùëò ] = -1 ‚ãÖ saturate ( 1 Œîùë° ‚ãÖ [ ùë•Ãáùëò -ùë•Ãáùëò ùëü ùë¶Ãáùëò -ùë¶Ãáùëò ùëü ùëßÃáùëò -ùëßÃáùëò ùëü ] , ùëé ùëöùëéùë• )(9)The vector [Ãá  Ãá  Ãá  ]  represents the controller guidance for aircraft velocity at time point  and the value   represents a constant maximum acceleration value chosen here to be 0.2g.The function saturate returns a vector pointing in the same direction as the first input vector, with the same magnitude except limited for cases where the magnitude exceeds the absolute value of the second argument:saturate(ùíÇ, ùëé ùëöùëéùë• ) = { ùíÇ ‚ÄñùíÇ‚Äñ ‚â§ |ùëé ùëöùëéùë• | ùíÇ ‚ÄñùíÇ‚Äñ ‚ãÖ |ùëé ùëöùëéùë• | otherwise(10)In this way, the commanded acceleration will seek to drive the error between the vehicle velocity [ÃáÃá]  and the guidance velocity [Ãá  Ãá  Ãá  ]  to zero, while having a magnitude limited to   .The guidance velocity is defined by a set of custom mathematical functions that differ depending on whether the vehicle is in takeoff or landing phases of flight.The custom functions are defined in the following subsections, and are designed to a) to mimic nominal passenger-carrying vehicle motion and b) to be flexible to varying position and velocity of the vehicle at the interface with the fixed-wing ATG dynamics.The remainder of discussion in this section is limited to computations strictly based on the state at a given time point , so the subscript  is omitted for clarity.
A. Landing guidance velocityThe guidance velocity during landing was designed to have the following characteristics:ÔÇ∑ Lateral: The aircraft flies towards the point-in-space directly over the landing point, starting with a nominal maximum closure rate and ending with zero closure rate.The closure rate is further scaled with respect to altitudeif the aircraft begins the approach at a lower altitude, then the approach will also begin at a slower airspeed.ÔÇ∑ Vertical: The aircraft vertical rate is set such that the resultant vehicle velocity is directed toward a point in space directly over the landing point (e.g., a faster lateral closure rate results in a faster vertical rate).Once the vehicle is within a pre-determined radius of the landing point, the vehicle transitions into a vertical touchdown profile that varies linearly from a maximum vertical rate to a minimum vertical rate as a function of the current height-above-ground.The final touchdown speed must be nonzero in order for ATG to correctly detect a "landed" condition and then transition to airport surface movement dynamics.These characteristics were formulated mathematically as follows.First, for convenience, define the function P to represent 2D linear interpolation over a closed interval with clamping of extrapolation to the endpoint values; that is to say, given two points ( 0 ,   ) and ( 1 ,  1 ),  0 ,  1 ,   ,  1 ‚àà ‚Ñù,  0 <  1 , and an input interpolation value  ‚àà ‚Ñù: P(;  0 ,  0 ,  1 ,  1 ) = {  1 - 0  1 - 0 ( - 0 ) +  0 ,  >  0 and  <  1  1 ,  >  1  0 ,  <  0 (11) Furthermore, define  ‚âî ‚àö 2 +  2 , i.e.,  is the lateral range from touchdown ( and  are the position of the vehicle in the ground plane with origin at the landing point) and let Ãá be its time derivative.Then, the landing profile description given above is equivalent to a functional relationship between the vehicle guidance velocity components (Ãá, Ãá) and its position (, ) relative to the landing point:Ãá(, ) = ‚àö(; 0,0,   , Ãá  )(; 0, Ãá  ,   , Ãá  )ùëßÃáùëü(ùëü, ùëß) = { - ùëß -ùëß ùë°ùëëùë† ùëü |ùëüÃáùëü(ùëü, ùëß)| ùëü > ùëü ùë°ùëëùë† , |ùëüÃáùëü| > 0 -ùëÉ(ùëß; 0, ùëßÃáùë° ùëëùëì , ùëß ùë°ùëëùë† , ùëßÃáùë° ùëëùë† ) otherwise(12)The components Ãá and Ãá of the guidance velocity can then be computed from Ãá and the current vehicle position [, , ]  : letting  be the true course from the current vehicle position to the landing point so  = cos  and  = sin , it follows that Ãá = Ãá sin  and Ãá = Ãá cos .Table 4 describes the parameters used in Eq. ( 12) to shape the guidance velocity profile, with default values that were integrated into the ATG software for all three vehicle types.Further work could explore tuning these parameters for vehicle-specific behavior on a case-by-case basis.Final touchdown vertical rate 0.5 ft/s Fig. 6 shows an example ATG simulation of the vehicle trajectory for the QEP6 aircraft model following the guidance velocity computed as in Eq. ( 12).The vehicle is on approach towards the landing point in the -Y axis direction.The vehicle transitions to the VTOL landing dynamics once within   = 400ft of the landing point (label (a)), at which point the 0.2g acceleration limit applied in Eq. ( 10) is visible in the velocity profile (label (b)).Once within   = 10ft of the landing point (label (c)), the vehicle vertical rate transitions to the final touchdown profile.In addition, the vehicle true course  is assumed to be held constant in the desired direction of takeoff.Table 5 describes the parameters used in Eq. ( 13) to shape the takeoff profile.The guidance velocity components Ãá and Ãá can be computed as follows: letting  represent the vehicle flight path angle such that sin  = Ãá/  , then Ãá =   cos  sin  and Ãá =   cos  cos .Target airspeed for transition to CTOL dynamics 90 kts Fig. 7 shows an example ATG simulation of the takeoff trajectory for the QEP6 aircraft model following the guidance velocity computed as in Eq. ( 13).The vehicle takes off in the -Y axis direction away from the landing pad.
V. VerificationThe three aircraft models integrated into the ATG software were compared with the behavior of the reference 6-DOF models in the FDz software by simulating the vehicle behavior through reference steady flight climb and descent maneuvers; results and analysis are presented here.A comparison of the lateral dynamics is not included because the ATG and FDz control laws differ significantly and the ATG lateral control law was not modified as part of this study.
A. LPC cruise climb simulationFig. 8 compares the ATG and reference FDz 6-DOF simulations of the LPC aircraft for a cruise climb at 120 KCAS and 500 fpm from 1000 to 4000 ft MSL.The models adhere to the commanded steady-state airspeed within +/-3 KCAS and accelerations are lower than 0.3g.Fundamental differences in formulation of the ATG and 6-DOF control laws result in differing behavior during transient phases of the maneuver.In particular, the ATG model exhibits underdamped vertical rate dynamics during level-out phase.This is likely due to a lack of integral and derivative gains in the ATG control law and indicate the control law could be augmented for improved handling.However, vehicle position and airspeed states are controlled to within tolerance for usage in ATC operations simulations, where research metrics may quantify trajectory compliance and adherence to expected waypoint time-of-arrivals (TOAs) to assess issues such as inter-vehicle airborne spacing and airspace traffic flow and capacity.
B. QEP cruise descent simulationFig. 9 compares the ATG and reference FDz 6-DOF simulations of the QEP1 aircraft for a cruise descent at 80 KCAS and 500 fpm from 4000 to 1000 ft MSL.The models adhere to the commanded steady-state airspeed within +/-3 KCAS and accelerations are lower than 0.2g.
VI. ConclusionAn effective process was developed to represent VTOL aircraft in the NASA Ames ATG software for air traffic control operations simulation.Variation in the available VTOL configurations and source data resulted in the development of multiple techniques.The process is repeatable and well-documented to facilitate updates to the ATG aircraft models as the source data evolves.This work allows representation of VTOL aircraft within the fixed-wing ATG modeling environment without significant changes to the underlying ATG equations of motion and vehicle performance database, requiring custom dynamics only for landing and takeoff phases.Several simplifying steps were taken to approximate the contribution of vertical lift elements within the fixed-wing lift and drag model elements, and as such may limit the applicability of simulation data depending on the desired operational scenario.Future expansion of the underlying ATG aircraft model representation should be considered to better support VTOL aircraft as well as to support modeling of electric or hybrid vehicle propulsion system performance.Additional work should also be performed to validate the ATG model representation against experimental or operational flight data as it becomes available.Fig. 11Fig. 1 NASA rotary-wing models integrated into the Airspace Target Generator (ATG) database.From left: lift-plus-cruise; one-seater quadcopter; six-seater quadcopter.
Fig. 22Fig. 2 Example reference area, span, and length for the QEP6 variant aircraft.
Fig. 44Fig. 4 LPC aircraft: drag polar resulting from 6-DOF aerodynamic table sweep of angle-of-attack (Alpha) for flaps 0% / 1k ft / 100 KCAS / Mach 0.154.Red markers denote entries used for resulting ATG model.
Fig. 66Fig. 6 Example landing trajectory for QEP6 ATG aircraft model.(a) Transition point from CTOL to VTOL dynamics; (b) saturation of commanded deceleration while attaining reference landing profile; (c) touchdown profile initiated once within close range.B. Takeoff guidance velocity The guidance velocity during takeoff has following characteristics: ÔÇ∑ Lateral: After liftoff into a hover, the aircraft accelerates forward until achieving a climb-out airspeed.ÔÇ∑ Vertical: The vehicle lifts off at a fixed vertical rate.Once the vehicle achieves a predetermined airspeed (at this point the vehicle has begun its forward acceleration), the vehicle accelerates to a climb-out vertical rate.ÔÇ∑ Transition to CTOL.Once the aircraft reaches a predetermined altitude, the dynamics are transitioned to the core ATG CTOL equations.This can be captured as a functional relationship between the guidance velocity vertical rate Ãá, the guidance velocity airspeed   , the vehicle vertical position , and the vehicle airspeed :
Fig.7shows an example ATG simulation of the takeoff trajectory for the QEP6 aircraft model following the guidance velocity computed as in Eq. (13).The vehicle takes off in the -Y axis direction away from the landing pad.The vehicle
Fig. 77Fig. 7 Example takeoff trajectory for the QEP6 ATG aircraft model.(a) Vertical liftoff, then forward acceleration; (b) once vehicle achieves target airspeed, transition to vertical acceleration to climb out
Fig. 88Fig. 8 LPC aircraft: ATG vs FDz 6-DOF, cruise climb simulation (120 KCAS, 1000-4000 ft MSL, 500 fpm).
Fig. 99Fig. 9 QEP1 aircraft: ATG vs. FDz 6-DOF, cruise descent simulation (80 KCAS, 4000-1000 ft MSL, 500 fpm).Similar to the simulation of the LPC aircraft presented previously, the ATG and 6-DOF models exhibit differing transient behavior during initiation of the descent and during the level-out at target altitude.The QEP1 ATG aircraft model also exhibits underdamped climb rate oscillation once at its target altitude.

  = Controller   proportional gain, Mach number error feedback    = Controller   proportional gain, calibrated airspeed error feedback   = Controller   proportional gain, flight path angle error feedback  , = Controller   proportional gain, flight path angle feedback, Mach number control strategy  ,  = Controller   proportional gain, flight path angle feedback, Calibrated airspeed control strategy2ùê∂ ùê∑= Drag coefficientùê∂ ùêø= Lift Coefficientùê∂ ùêø ùëöùëéùë•= Maximum Lift Coefficientùê∂ ùêø ùëöùëéùë•,ùëéùëñùëüùëìùëüùëéùëöùëí = Maximum Lift Coefficient, airframe contributionùê∂ ùêø ùëü= Controller reference lift coefficientŒîùê∂ ùê∑ ùë†ùëè= Speed Brake Incremental Drag coefficientùê∑= Drag, lbùê∑ ùë†ùëè= Speed Brake Drag, lbùëî= Gravitational Constant, 32.174 ft/s 2ùêø= Lift, lbùëö= Vehicle Mass, slugùëÄ= Mach numberùëÄ ùëü= Controller reference Mach numberùëû ÃÖ= Dynamic pressure, lb/ft 2ùëÜ= Reference area, ft 2ùëá= Forward Propulsive Thrust, lbùëá ùëüùëúùë°ùëúùëü= Rotor Net Thrust, lbùëá ùëüùëúùë°ùëúùëü ùëöùëéùë• = Rotor Maximum Net Thrust, lbùëâ= True airspeed, ktùëâ ùëü= Controller guidance true airspeed, ktùëâ ùëê ùëâ ùëê ùëü= Calibrated airspeed, kt = Controller reference calibrated airspeed, ktùëü= Aircraft lateral range from landing point, ftùëüÃá= Aircraft landing point closure rate, ft/sùëüÃáùëü= Controller guidance landing point closure rate, ft/sùë•= Aircraft position relative to landing point, east coordinate, ftùë•Ãá= Aircraft velocity, east coordinate, ft/sùë•Ãáùëü= Controller guidance velocity, east coordinate, ft/sùë¶= Aircraft position relative to landing point, true north coordinate, ftùë¶Ãá= Aircraft velocity, true north coordinate, ft/sùë¶Ãáùëü= Controller guidance velocity, true north coordinate, ft/sùëß= Aircraft altitude above landing point, ftùëßÃá= Aircraft velocity, vertical coordinate, ft/sùëßÃáùëü= Controller guidance velocity, vertical coordinate, ft/sùõº= Aircraft angle of attack, radùõæ= Aircraft flight path angle, radùõæ ùëü= Controller reference flight path angle, radùúå= Atmospheric Density, slug/ft 3ùúì= Aircraft true course, rad
Table 2 . LPC ATG model effective flap setting schedule2Effective Flap SettingAltitude (ft MSL)Airspeed (KCAS)0%100010025%10009050%05575%020100%010
Table 3 . Maximum forward propulsive thrust available at altitude for the QEP6 aircraft3Altitude (ft)MaximumMaximumNet ForwardAirspeedAirspeedThrust(KCAS)(KTAS)(lb)501351357951000135136.87952000130133.67373000130135.67374000130137.77375000125134.66816000125136.568170001201336288000120135.16289000120137.262810000115133.757715000105132.248120000100136.9436
Table 4 . VTOL landing guidance velocity profile shaping parameters4NameDescription
Table 5 . VTOL takeoff guidance velocity profile shaping parameters5NameDescription
		
		

			
AcknowledgmentsThe authors would like to thank Dr. Wayne Johnson for support of the NDARC rotorcraft design software and John Kaneshige for support of the FlightDeckZ software, both which enabled successful completion of this work.
			

			

				


	
		Urban Air Mobility Airspace Integration Concepts and Considerations
		
			DavidPThipphavong
		
		
			RafaelApaza
		
		
			BryanBarmore
		
		
			VernolBattiste
		
		
			BarbaraBurian
		
		
			QuangDao
		
		
			MichaelFeary
		
		
			SusieGo
		
		
			KennethHGoodrich
		
		
			JeffreyHomola
		
		
			HusniRIdris
		
		
			ParimalHKopardekar
		
		
			JoelBLachter
		
		
			NatashaANeogi
		
		
			HokKwanNg
		
		
			RosaMOseguera-Lohr
		
		
			MichaelDPatterson
		
		
			SavitaAVerma
		
		10.2514/6.2018-3676
	
	
		2018 Aviation Technology, Integration, and Operations Conference
		
			American Institute of Aeronautics and Astronautics
			2018
		
	
	2018 Aviation Technology, Integration, and Operations Conference
	Thipphavong, D., et al., "Urban Air Mobility Airspace Integration Concepts and Considerations," 2018 Aviation Technology, Integration, and Operations Conference, American Institute of Aeronautics and Astronautics, 2018. doi: 10.2514/6.2018-3676



	
		Assessment of Computational Methods for an Urban Air Mobility Vehicle Aerodynamics
		
			LKohlman
		
		
			MPatterson
		
		
			BRaabe
		
		10.2514/6.2022-0191.vid
	
	
		NASA/TM
		
			American Institute of Aeronautics and Astronautics (AIAA)
			2019-220072, 2019
		
	
	Kohlman, L., Patterson, M., and Raabe, B., "Urban Air Mobility Network and Vehicle Type -Modelling and Assessment," NASA/TM-2019-220072, 2019.



	
		Total Energy Based Flight Control System Design for a Lift-Plus-Cruise Urban Air Mobility Concept
		
			LYoung
		
		10.2514/6.2021-1899.vid
	
	
		VFS International Power Lift Conference (IPLC)
		
			American Institute of Aeronautics and Astronautics (AIAA)
			2020
		
	
	Young, L., "Accessibility Design and Operational Considerations in the Development of Urban Aerial Mobility Vehicles and Networks," VFS International Power Lift Conference (IPLC), Vertical Flight Society, 2020.



	
		Optimal eVTOL Charging and Passenger Serving Scheduling for On-Demand Urban Air Mobility
		
			TEdwards
		
		
			GPrice
		
		10.2514/6.2020-3253.vid
		
			2020-220460, 2020
			American Institute of Aeronautics and Astronautics (AIAA)
		
	
	NASA/CR-
	Edwards, T., Price, G., "eVTOL Passenger Acceptance," NASA/CR-2020-220460, 2020.



	
		Concept Vehicles for VTOL Air Taxi Operations
		
			WJohnson
		
		
			CSilva
		
		
			ESolis
		
	
	
		AHS Technical Conference on Aeromechanics Design for Transformative Vertical Flight
		
			American Helicopter Society
			2018
		
	
	Johnson, W., Silva, C., and Solis, E., "Concept Vehicles for VTOL Air Taxi Operations," AHS Technical Conference on Aeromechanics Design for Transformative Vertical Flight, American Helicopter Society, 2018.



	
		VTOL Urban Air Mobility Concept Vehicles for Technology Development
		
			WJohnson
		
		
			CSilva
		
		
			KAntcliff
		
		
			MPatterson
		
		10.2514/6.2018-3847
	
	
		2018 Aviation Technology, Integration, and Operations Conference
		
			American Institute of Aeronautics and Astronautics
			2018
		
	
	Johnson, W., Silva, C., Antcliff, K., Patterson, M., "VTOL Urban Air Mobility Concept Vehicles for Technology Development," 2018 Aviation Technology, Integration, and Operations Conference, American Institute of Aeronautics and Astronautics, 2018. doi: 10.2514/6.2018-3847



	
		Computational Study of NASA's Quadrotor Urban Air Taxi Concept
		
			PDiaz
		
		
			SYoon
		
		10.2514/6.2020-0302
	
	
		AIAA SciTech 2020 Forum
		
			American Institute of Aeronautics and Astronautics
			2020
		
	
	Diaz, P., Yoon, S., "Computational Study of NASA's Quadrotor Urban Air Taxi Concept," AIAA SciTech 2020 Forum, American Institute of Aeronautics and Astronautics, 2020. doi: 10.2514/6.2020-0302



	
		Computational Study of the Side-by-Side Urban Air Taxi Concept
		
			PDiaz
		
		
			JAhmad
		
		
			SYoon
		
	
	
		VFS 75 th Annual Forum
		
			2019
		
	
	Diaz, P., Ahmad, J., and Yoon, S., "Computational Study of the Side-by-Side Urban Air Taxi Concept," VFS 75 th Annual Forum, 2019.



	
		Exobiology in earth orbit : the results of science workshops held at NASA Ames Research Center / edited by D. DeFrees ... [et al.] ; prepared at Ames Research Center.
		
			DDefrees
		
		10.5962/bhl.title.4099
	
	
		Contract No. NAS1-NNA06
		BC41C, NASA/CR
		
			National Aeronautics and Space Administration, Office of Management, Scientific and Technical Information Division,
			2011-215960, 2011
		
	
	Chung, W., et.al., "Modeling High-Speed Civil Tiltrotor Transports in the Next Generation Airspace," NASA Ames Research Center, Contract No. NAS1-NNA06BC41C, NASA/CR-2011-215960, 2011.



	
		Dynamic Inversion based Full Envelope Flight Control for an eVTOL Vehicle using a Unified Framework
		
			ThomasLombaerts
		
		
			JohnKaneshige
		
		
			StefanSchuet
		
		
			BimalLAponso
		
		
			KimberleeHShish
		
		
			GordonHardy
		
		10.2514/6.2020-1619
	
	
		AIAA Scitech 2020 Forum
		
			American Institute of Aeronautics and Astronautics
			2020
		
	
	Lombaerts, T., Kaneshige, J., Schuet, S., Hardy, G., Aponso, B., and Shish, K. "Dynamic Inversion based Full Envelope Flight Control for an eVTOL Vehicle using a Unified Framework," AIAA Scitech 2020 Forum, American Institute of Aeronautics and Astronautics, 2020. doi: 10.2514/6.2020-1619



	
		Exobiology in earth orbit : the results of science workshops held at NASA Ames Research Center / edited by D. DeFrees ... [et al.] ; prepared at Ames Research Center.
		
			DDefrees
		
		10.5962/bhl.title.4099
		No.: 91119-01
	
	
		Contract No.: NAS2-13210
		
			National Aeronautics and Space Administration, Office of Management, Scientific and Technical Information Division,
			1991
		
	
	Report
	Subcontract No.: 00521230
	Mukai, C. "Design and Analysis of Aircraft Dynamics Models for the ATC Simulation at NASA Ames Research Center," NASA Ames Research Center, Report No.: 91119-01, Contract No.: NAS2-13210, Subcontract No.: 00521230, 1991.



	
		Modeling the Longitudinal Dynamics of the Cessna Citation X using Neural Network Methodology
		10.2514/6.2023-2191.vid
		
		
			
			American Institute of Aeronautics and Astronautics (AIAA)
		
	
	retrieved April 12, 2020
	Cessna Textron Aviation, "Cessna TTx Brochure," URL: https://cessna.txtav.com/-/media/cessna/files/piston/ttx/2015-ttx- brochure.ashx [retrieved April 12, 2020]



	
		NDARC -NASA Design and Analysis of Rotorcraft: theoretical basis and architecture
		
			WJohnson
		
	
	
		AHS Aeromechanics Specialists' Conference
		
			2010. 2010
			American Helicopter Society
		
	
	Johnson, W. "NDARC -NASA Design and Analysis of Rotorcraft: theoretical basis and architecture," 2010 AHS Aeromechanics Specialists' Conference, American Helicopter Society, 2010.



	
		Toward a Comfortable Driving Experience for a Self-Driving Shuttle Bus
		
			IlBae
		
		
			JaeyoungMoon
		
		
			JeongseokSeo
		
		10.3390/electronics8090943
	
	
		Electronics
		Electronics
		2079-9292
		
			8
			9
			943
			2019
			MDPI AG
		
	
	Bae, I., Moon, J., and Seo, J., "Toward a Comfortable Driving Experience for a Self-Driving Shuttle Bus," Electronics, Vol. 8, No. 943, 2019. doi: 10.3390/electronics8090943


				
			
		
	
